<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categorized Project Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(8px);
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 0;
            border-radius: 16px;
            width: 95%;
            max-width: 1000px;
            height: 95%;
            max-height: 900px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }
        .close {
            color: #fff;
            font-size: 32px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 15px;
            line-height: 1;
            transition: color 0.2s;
        }
        .close:hover,
        .close:focus {
            color: #d1d5db;
            text-decoration: none;
            cursor: pointer;
        }
        .modal-iframe {
            flex-grow: 1;
            border-radius: 0 0 16px 16px;
        }
        /* Card Grid: Single column on mobile, two columns on desktop */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(1, minmax(0, 1fr));
            gap: 16px;
        }
        @media (min-width: 768px) {
            .category-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
    </style>
</head>
<body class="p-4 sm:p-8">

<div class="max-w-6xl mx-auto bg-white p-6 sm:p-8 rounded-3xl shadow-2xl">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-center mb-4 text-gray-900">EY Project Dashboard</h1>
    <p class="text-center text-gray-600 mb-8">Links are grouped by category for easy finding. Click a card to preview the site.</p>

    <!-- Modal window -->
    <div id="urlModal" class="modal">
        <div class="modal-content shadow-2xl border border-gray-300">
            <div class="p-4 bg-blue-600 flex justify-between items-center rounded-t-2xl relative">
                <div class="flex-1 overflow-hidden pr-10">
                     <p id="modalTitle" class="text-lg sm:text-xl font-bold text-white truncate"></p>
                </div>
                <span class="close" style="right: 15px; top: 50%; transform: translateY(-50%);">&times;</span>
            </div>
            <iframe id="urlIframe" class="modal-iframe w-full h-full" frameborder="0"></iframe>
        </div>
    </div>

    <!-- URL list Grid Container -->
    <div id="urlList" class="space-y-10">
        <!-- Categorized card sections will be generated here by JavaScript -->
    </div>
</div>

<script>
    // Data with categories assigned
    const urls = [
        { category: 'Creative & Visual Arts', title: 'Soot Sprite Visualiser', description: 'Music visualiser, inspired by Studio Ghibli soot sprites.', url: 'https://boobalootoo.github.io/basicvisualiser/sootsprite' },
        { category: 'Creative & Visual Arts', title: 'Image to Colouring Sheet', description: 'Upload any image to turn it into a colouring sheet, includes live edge detection adjustment.', url: 'https://boobalootoo.github.io/postermaker/edgemap.html' },
        { category: 'Creative & Visual Arts', title: 'Virtual Stickerbook', description: 'A fun, interactive virtual stickerbook application.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/DIGISTICK' },
        { category: 'Creative & Visual Arts', title: 'Story Idea Generator', description: 'Choose a genre and receive a character, creature, location and object to build a story around.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/storymaker/' },

        { category: 'Interactive & Camera', title: 'Face Blocker & Sticker', description: 'Automatically blocks faces, only takes a picture if it is blocked, lets you choose a sticker or draw your own.', url: 'https://boobalootoo.github.io/facerase/2.html' },
        { category: 'Interactive & Camera', title: 'Bubble Pop Game (Hand Detection)', description: 'Bubble pop game using hand detectionâ€”point to pop the bubbles.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/bubpop/index.html' },
        { category: 'Interactive & Camera', title: 'Croc Puppet (Hand)', description: 'Hand puppet that moves with the user\'s hand movements on the camera feed.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/puppets/croc1.html' },
        { category: 'Interactive & Camera', title: 'Bongos (Hand Play)', description: 'Bongos shown on camera feed that you can play by tapping with your hand.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/music/bongos' },

        { category: 'Learning & Education', title: 'Tree ID Cards', description: 'A set of printouts for tree identification cards.', url: 'https://boobalootoo.github.io/trees/' },
        { category: 'Learning & Education', title: 'Digital Bird ID', description: 'A digital tool for bird watching and identification.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/bird/birdIDJ2' },
        { category: 'Learning & Education', title: 'Read Aloud Book Example', description: 'Example of an interactive book where words are revealed and read out loud on click.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/examplebook.html' },
        { category: 'Learning & Education', title: 'Find The Item Game', description: 'Find the item: click anything to hear its name and sound effect. Includes categories like farm, zoo, vehicles, etc.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/FINDME' },
        { category: 'Learning & Education', title: 'Point And Label Game', description: 'Point to anything to hear its name and sound effect. Items appear and disappear dynamically.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/PAL' },
        { category: 'Learning & Education', title: 'Dice Roll Subitising', description: 'Teaches subitising (instant recognition of quantity) and adding. Click dice to see number, word, or hear it out loud.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/diceroll' },

        { category: 'Wellbeing & Focus', title: 'Visual Pomodoro', description: 'A simple, visual pomodoro timer for focused work or breaks.', url: 'https://boobalootoo.github.io/bungeealice/15.html' },
        { category: 'Wellbeing & Focus', title: 'Grounding Technique', description: 'An interactive guide for the 5-4-3-2-1 grounding technique.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/54321' },
        { category: 'Wellbeing & Focus', title: 'Mindfulness Visual', description: 'Provides a visual element to distract and focus, inspired by theories that eye movements affect mood.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/MeyeNDFULL' },
        { category: 'Wellbeing & Focus', title: 'Food Planner', description: 'Shows what amounts of what foods you should eat, allowing you to drag foods onto a table and adjust sliders.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/foodplanner' },
        
        { category: 'Music & Communication', title: '7-Key Piano', description: 'A 7-key piano that is colour coordinated and includes icons to help learn notes.', url: 'https://boobalootoo.github.io/Piano/3.html' },
        { category: 'Music & Communication', title: 'Icon Keyboard', description: 'A keyboard featuring common words represented by icons instead of letters.', url: 'https://boobalootoo.github.io/BRAINFRESHEN/icontype' }
    ];

    const urlList = document.getElementById('urlList');
    const urlModal = document.getElementById('urlModal');
    const urlIframe = document.getElementById('urlIframe');
    const modalTitle = document.getElementById('modalTitle');
    const closeBtn = document.querySelector('.close');

    /**
     * Groups the URL data by category.
     * @param {Array<Object>} list The full list of URL objects.
     * @returns {Object} An object where keys are categories and values are arrays of URL objects.
     */
    function groupByCategory(list) {
        return list.reduce((acc, item) => {
            if (!acc[item.category]) {
                acc[item.category] = [];
            }
            acc[item.category].push(item);
            return acc;
        }, {});
    }

    // Function to create and append card buttons, grouped by category
    function createCategorizedDashboard() {
        const groupedUrls = groupByCategory(urls);
        urlList.innerHTML = ''; // Clear existing content

        // Define the order of categories for presentation
        const categoryOrder = [
            'Interactive & Camera',
            'Learning & Education',
            'Wellbeing & Focus',
            'Creative & Visual Arts',
            'Music & Communication'
        ];

        categoryOrder.forEach(category => {
            const sites = groupedUrls[category];
            if (!sites || sites.length === 0) return; // Skip if category is empty

            // 1. Create Category Heading
            const categorySection = document.createElement('section');
            categorySection.className = 'category-section';

            const divider = document.createElement('hr');
            divider.className = 'border-t-2 border-gray-200 mb-6 mt-4';
            categorySection.appendChild(divider);
            
            const header = document.createElement('h2');
            header.className = 'text-2xl font-extrabold text-gray-800 mb-6 px-2 py-1 rounded-lg inline-block bg-blue-100';
            header.textContent = category;
            categorySection.appendChild(header);

            // 2. Create Grid Container for Cards
            const gridContainer = document.createElement('div');
            gridContainer.className = 'category-grid';

            sites.forEach(site => {
                // Create the main button/card element
                const button = document.createElement('button');
                button.className = 'w-full p-5 bg-white text-left border border-gray-200 rounded-xl shadow-lg hover:bg-blue-50 hover:shadow-xl transition-all duration-300 flex flex-col justify-start items-start space-y-2 cursor-pointer focus:outline-none focus:ring-4 focus:ring-blue-300';

                // Card Title
                const title = document.createElement('h3');
                title.className = 'text-xl font-bold text-blue-700';
                title.textContent = site.title;

                // Full Description
                const description = document.createElement('p');
                description.className = 'text-gray-700 text-base font-medium';
                description.textContent = site.description;

                button.appendChild(title);
                button.appendChild(description);

                button.onclick = () => {
                    // Open the modal
                    urlIframe.src = site.url;
                    modalTitle.textContent = site.title + ' Preview';
                    urlModal.style.display = 'flex';
                };
                gridContainer.appendChild(button);
            });

            categorySection.appendChild(gridContainer);
            urlList.appendChild(categorySection);
        });
    }

    // Modal control logic
    closeBtn.onclick = function() {
        urlModal.style.display = 'none';
        urlIframe.src = '';
    }

    window.onclick = function(event) {
        if (event.target == urlModal) {
            urlModal.style.display = 'none';
            urlIframe.src = '';
        }
    }

    // Initialize the categorized dashboard
    createCategorizedDashboard();

</script>

</body>
</html>

